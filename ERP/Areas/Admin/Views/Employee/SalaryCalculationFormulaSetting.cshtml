@using ERP.Helpers;
@model Business.Entities.Employee.EmployeeSalaryBreakup
<form method="post" id="formSalaryCalculationFormulaSetting" class="row g-3 needs-validation" asp-area="Admin" asp-controller="Employee" asp-action="AddUpdateEmployeeSalaryCalculationSetting">
    <input type="hidden" asp-for="EmployeeID" />
    <input type="hidden" asp-for="EmployeeSalaryBreakupID" />

    <div class=" col-sm-12 col-md-6 col-lg-6 border border-dark">

        <div class="row">
            <label for="" class="col-sm-3 col-form-label " color="blue">EARNINGS:</label>
        </div>
        <hr>
        <div class="row mb-1">
            <div class="col-md-4">
                <label for="" class="col-form-label">Cost To Company (X): </label>
            </div>
            <div class="col-md-8">
                <input type="text" class="form-control" id="" name="" placeholder="" readonly>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label2">A - Basic</label>

                <div class="col-3">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-3">
                    <label for="" class="col-form-label2">% of Total</label>
                </div>
                <div class="col-3">
                    <input type="text" class="form-control2" id="" name="" placeholder="X">
                </div>
                @*<div class="col-md-4">
                <input type="text" class="form-control" id="" name="" placeholder="">
                </div>*@
            </div>

        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label2">B - Dearness Allowance</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="X">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label2">C - House Rent Allowance</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="X">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label2">D - Other Allowances</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="X">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">E - All Cash Reimbursements</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="X">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">F - LTA</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="X">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">G - Medical</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="X">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">H - Arrears</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="X">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

    </div>

    <div class=" col-sm-12 col-md-6 col-lg-6 border border-dark">


        <div class="row">
            <label for="" class="col-sm-3 col-form-label " color="blue">DEDUCTIONS:</label>
        </div>
        <hr>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">P - PF</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="A">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">Q - ESI</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="A">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">R - Income Tax</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="A">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">S - Professional Tax</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="A">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">T - Loan & Advance</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="A">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>

        <div class="row mb-1">
            <div class="row">
                <label for="" class="col-3 col-form-label">U - Prerequisites</label>

                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="35">
                </div>
                <div class="col-2">
                    <label for="" class="col-form-label2 text-center">% of Total</label>
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="A">
                </div>
                <div class="col-2">
                    <input type="text" class="form-control2" id="" name="" placeholder="">
                </div>
            </div>
        </div>


    </div>

    <div class=" col-sm-12 col-md-6 col-lg-6 border border-dark m">

        <div class="row mb-3 mt-2">
            <label for="" class="col-sm-4 col-form-label2 ">A1 - Gross Earnings</label>
            <div class="col-sm-8">
                <input type="text" class="form-control2" asp-for="GrossEarnings" id="GrossEarnings" name="GrossEarnings" placeholder="A + B + C + D + E + F + G + H">
            </div>
        </div>

        <div class="row mb-3">
            <label for="" class="col-sm-4 col-form-label2 ">Net Payout on hand</label>
            <div class="col-sm-8">
                <input type="text" class="form-control2" asp-for="NetSalaryPayable" id="NetSalaryPayable" name="NetSalaryPayable" placeholder="A1 + B1">
            </div>
        </div>

    </div>

    <div class=" col-sm-12 col-md-6 col-lg-6 border border-dark">

        <div class="row mb-3 mt-2">
            <label for="" class="col-sm-4 col-form-label2 ">B1 - Gross Deductions</label>
            <div class="col-sm-8">
                <input type="text" class="form-control2" asp-for="GrossDeduction" id="GrossDeduction" name="GrossDeduction" placeholder="P + Q + R + S + T + U">
            </div>
        </div>

    </div>

    <div>
        <button type="submit" onclick="fnSaveEmployeeSalaryCalculationSetting()" class="btn btn-primary btn-info px-5 ladda-button" id="btnSaveEmployeeSalaryCalculationSetting">Save</button>
        <button type="button" onclick="" class="btn btn-primary btn-info px-5 ladda-button" id="">Back</button>
        <button type="reset" class="btn btn-primary btn-info px-5 ladda-button">Clear</button>
        @*<button type="button" class="btn btn-primary btn-info px-5 ladda-button" data-bs-dismiss="offcanvas" aria-l abel="Close">Cancel</button>*@
    </div>
</form>

<link href="~/admin/assets/vendors/typehead/jquery.typeahead.min.css" rel="stylesheet" />
<script src="~/admin/assets/vendors/typehead/jquery.typeahead.min.js"></script>
@await Html.PartialAsync("_ValidationScriptsPartial")
<script type="text/javascript">
    function fnSaveEmployeeSalaryCalculationSetting() {
        var ls = laddaStart('btnSaveEmployeeSalaryCalculationSetting');
        modeldata = $("#formSalaryCalculationFormulaSetting").serialize();
        $.ajax({
            type: 'POST',
            url: '/Admin/Employee/AddUpdateEmployeeSalaryCalculationSetting/',
            data: modeldata,
            dataType: 'json',
            beforeSend: function () { },
            success: function (data) {
                console.log(data.status);
                if (data.status) {
                    //notification
                    //$("#canvasEmployeeHRAdministration").hide();//('hide');
                    var test = Lobibox.notify('success', {
                        pauseDelayOnHover: true,
                        size: 'mini',
                        icon: 'bx bx-check-circle',
                        continueDelayOnInactiveTab: false,
                        position: 'bottom right',
                        msg: data.message,
                    });
                    $("#formSalaryCalculationFormulaSetting").load(window.location.href + " #formSalaryCalculationFormulaSetting");
                }
                else {
                    Lobibox.notify('error', {
                        pauseDelayOnHover: true,
                        size: 'mini',
                        icon: 'bx bx-check-circle',
                        continueDelayOnInactiveTab: false,
                        position: 'bottom right',
                        msg: '@MessageHelper.Error'
                    });
                }
            },
            error: function (error) {
                laddaStop(ls);
                Lobibox.notify('error', {
                    pauseDelayOnHover: true,
                    size: 'mini',
                    icon: 'bx bx-check-circle',
                    continueDelayOnInactiveTab: false,
                    position: 'bottom right',
                    msg: '@MessageHelper.Error'
                });
            }
        }).always(function () {
            hideloader();
        });

    };
</script>